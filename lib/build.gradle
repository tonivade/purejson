
java {
  sourceCompatibility = JavaVersion.VERSION_11
  targetCompatibility = JavaVersion.VERSION_11
  
  withJavadocJar()
  withSourcesJar()
}

tasks.withType(JavaCompile).each {
  it.options.compilerArgs.addAll('--release', '11')
}

tasks.withType(AbstractArchiveTask).each {
  println(it.name)
  it.baseName = 'purejson'
}

javadoc.options {
  addStringOption('-release', '11')
}

signing {
  sign publishing.publications.mavenJava
}

dependencies {
  api 'com.github.tonivade:purefun-core:2.3-SNAPSHOT'
  api 'com.eclipsesource.minimal-json:minimal-json:0.9.5'
  api 'com.squareup:javapoet:1.12.1'
}